(this["webpackJsonpconcert-accountant"]=this["webpackJsonpconcert-accountant"]||[]).push([[0],{23:function(e,t,a){},40:function(e,t,a){e.exports=a(74)},45:function(e,t,a){},64:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),c=a.n(o),i=(a(45),a(12)),s=a(3),l=a(4),u=a(6),m=a(5),d=(a(23),a(19)),p=a.n(d);a(46);p.a.initializeApp({apiKey:"AIzaSyBymJrYdY1TNmwZwPPOIY02q6t3EBz3WUU",authDomain:"concert-accountant-cca1f.firebaseapp.com",databaseURL:"https://concert-accountant-cca1f.firebaseio.com",projectId:"concert-accountant-cca1f",storageBucket:"concert-accountant-cca1f.appspot.com",messagingSenderId:"357158929786",appId:"1:357158929786:web:6fefa320d3defb953ec2c3"});var v=p.a,f=a(11),h=a(13),g=a.n(h),y=(a(64),n.Component,a(69),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={newName:"",newList:"",newBudget:"",published:!1,userSessionKey:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.id;v.database().ref("/SessionID").on("value",(function(t){t.val();console.log(e.props.id)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"profileDiv"},r.a.createElement("h2",null,"Music Lists"),r.a.createElement("h3",null,r.a.createElement("a",{href:"#",className:"profilePopup"},"Some Music Lists")),r.a.createElement("h3",null,"Wish Lists\\"),r.a.createElement("h3",null,"Budget List"))}}]),a}(n.Component)),b=(a(70),n.Component,a(71),n.Component,a(1)),E=(a(72),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleError=function(t){t.preventDefault(),e.setState({error:!1})},e.state={event:[],modalEvent:"",filteredResults:[],isFiltered:!1,filterPrice:"0",error:"",errorMsg:"",searchCity:"",searchArtist:""},e}return Object(l.a)(a,[{key:"dateConvert",value:function(e){var t=new Date(e);return(t=new Date(t.setTime(t.getTime()+864e5))).toDateString()}},{key:"collectPrice",value:function(e){return e.priceRanges?{type:e.priceRanges[0].type,currency:e.priceRanges[0].currency,min:"".concat(e.priceRanges[0].min.toFixed(2)),max:"".concat(e.priceRanges[0].max.toFixed(2))}:{type:!1,currency:!1,min:"N/A",max:"N/A"}}},{key:"mapToAppData",value:function(e){var t=this;return e.data._embedded.events.map((function(e){var a=e.id,n=e.name,r=e._embedded.venues[0].name,o=e._embedded.venues[0].city.name,c=e._embedded.venues[0].country.name,i="".concat(o,", ").concat(c),s=e.dates.start.localDate,l=t.dateConvert(s);return{eventID:a,name:n,venue:r,location:{city:o,country:c,cityCountry:i},date:{dateStr:s,dateNum:Date.parse(s),dateFormat:l},imgUrl:e.images[2].url,price:t.collectPrice(e)}}))}},{key:"handleChange",value:function(e){this.filterResults(e.target.value),this.setState({filterPrice:parseFloat(e.target.value)})}},{key:"renderConcertCell",value:function(e){return r.a.createElement("div",{key:e.eventID,className:"concertCell"},r.a.createElement(f.b,{to:"/event/".concat(e.eventID)},r.a.createElement("div",{className:"imageContainer"},r.a.createElement("img",{src:e.imgUrl,alt:e.name})),r.a.createElement("div",{className:"concertInfo"},r.a.createElement("h2",null,e.name),r.a.createElement("p",null,e.date.dateFormat),"N/A"===e.price.min?r.a.createElement("p",null,"No prices currently available."):r.a.createElement("p",null,"Prices starting as low as $",e.price.min))))}},{key:"filterResults",value:function(){var e=this.state.event,t=parseFloat(this.state.filterPrice),a=e.filter((function(e){return parseFloat(e.price.min)<=parseFloat(t)}));this.setState({filteredResults:a})}},{key:"showFiltered",value:function(){var e=!0;e="0"!=this.state.filterPrice,this.setState({isFiltered:e}),this.filterResults()}},{key:"runAxios",value:function(){var e=this,t="",a="";t=void 0===this.props.data.loca?"Toronto":this.props.data.location[0],a=void 0===this.props.data.artist?"":this.props.data.artist,g()({url:"https://app.ticketmaster.com/discovery/v2/events",method:"GET",responseType:"JSON",params:{apikey:"Mh0RGGBfkgADAASrXM25WfhUueio9rgV",segmentName:"music",city:t,keyword:a}}).then((function(t){if("_embedded"in t.data){var a=e.mapToAppData(t);e.setState({event:a,error:!1,errorMsg:""})}else e.setState({error:!0,errorMsg:"Oh no! There were no matching results!"}),e.props.data.location[0]="",e.props.data.artist=""}))}},{key:"componentDidMount",value:function(){this.runAxios()}},{key:"componentDidUpdate",value:function(){this.runAxios()}},{key:"render",value:function(){var e=this,t=this.state,a=t.filterPrice;t.error;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("section",{className:"budgetFilter"},r.a.createElement("h2",null,this.state.errorMsg),r.a.createElement("p",null,"Filter results for your budget: "),r.a.createElement("select",{value:a,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:"0"},"All"),r.a.createElement("option",{value:"25"},"$25 or Less"),r.a.createElement("option",{value:"50"},"$50 or Less"),r.a.createElement("option",{value:"75"},"$75 or Less"),r.a.createElement("option",{value:"100"},"$100 or Less")),r.a.createElement("button",{onClick:function(t){return e.showFiltered(t)}},"Filter")),r.a.createElement("section",{className:"concertCards"},!1===this.state.isFiltered?this.state.event.map((function(t){return e.renderConcertCell(t)})):this.state.filteredResults.map((function(t){return e.renderConcertCell(t)}))))}}]),a}(n.Component)),w=(a(73),n.Component,n.Component,function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleInputChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.newName,r=a.newList,o=a.newBudget,c={name:n,allLists:{listName:r,published:a.published,budgetList:!0,budget:o}},i=v.database().ref().push(c).getKey();console.log(i),e.setState({newList:"",newBudget:"",userSessionKey:i})},e.state={newName:"",newList:"",newBudget:"",published:!1,userSessionKey:""},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(f.a,{basename:"/"},r.a.createElement(y,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.d4d1601a.chunk.js.map